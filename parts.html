
<!DOCTYPE html>
<html>
<head>
  <title>Parts</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: Arial; margin: 0; padding: 10px; background: #f0f0f0; }
    h1 { text-align: center; margin-bottom: 20px; }
    .category { background: #ddd; padding: 10px; margin-top: 20px; font-size: 20px; font-weight: bold; }
    .subcategory { margin-left: 20px; margin-top: 10px; font-size: 16px; font-weight: bold; }
    .item { background: #fff; padding: 10px; margin: 10px 0; border-radius: 6px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 10px; }
    .item img { width: 80px; height: 80px; object-fit: contain; border: 1px solid #ccc; border-radius: 4px; }
    .item-info { flex-grow: 1; }
  </style>
</head>
<body>
  <nav style="background:black;padding:10px;text-align:center;">
    <a href="index.html" style="color:white;margin:0 20px;font-size:18px;text-decoration:none;">Home</a>
    <a href="parts.html" style="color:white;margin:0 20px;font-size:18px;text-decoration:none;">Parts</a>
    <a href="accessories.html" style="color:white;margin:0 20px;font-size:18px;text-decoration:none;">Accessories</a>
  </nav>
  <h1>Available Parts</h1>
  <div id="partsDisplay"></div>
  <script>
    function groupBy(array, key) {
      return array.reduce((result, obj) => {
        const value = obj[key] || "Uncategorized";
        result[value] = result[value] || [];
        result[value].push(obj);
        return result;
      }, {});
    }

    const container = document.getElementById("partsDisplay");
    const parts = JSON.parse(localStorage.getItem("parts") || "[]");
    if (parts.length === 0) {
      container.innerHTML = "<p>No parts found. Please check back later.</p>";
    } else {
      const byCategory = groupBy(parts, "category");
      for (const cat in byCategory) {
        const catEl = document.createElement("div");
        catEl.className = "category";
        catEl.textContent = cat;
        container.appendChild(catEl);

        const bySub = groupBy(byCategory[cat], "subcategory");
        for (const sub in bySub) {
          const subEl = document.createElement("div");
          subEl.className = "subcategory";
          subEl.textContent = sub;
          container.appendChild(subEl);

          bySub[sub].forEach(part => {
            const item = document.createElement("div");
            item.className = "item";
            const img = document.createElement("img");
            img.src = part.image || "";
            const info = document.createElement("div");
            info.className = "item-info";
            info.innerHTML = `<strong>${part.name}</strong><br>Part No: ${part.partNumber}<br>â‚¬${part.price}<br>Stock: ${part.stock}`;
            item.appendChild(img);
            item.appendChild(info);
            container.appendChild(item);
          });
        }
      }
    }
  </script>
</body>
</html>
